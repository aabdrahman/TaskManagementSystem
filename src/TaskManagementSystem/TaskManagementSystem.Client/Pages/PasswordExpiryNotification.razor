
@*


<div class="drawer-wrapper @(_isOpen ? "slide" : "" ) ">
    <div class="drawer-mask">
        <button class="btn btn-close" role="button" @onclick="Close">

        </button>
    </div>

    <div class="drawer">
        <div class="drawer-content">
            <p class="text-wrap fs-5 fw-light">
                Your password is due to expire in @DaysToExpire. Kindly change password before then.
            </p>
        </div>
    </div>

</div>

*@

<div class="drawer-wrapper @( _isOpen ? "slide" : "" )">
    <!-- mask (click mask to close) -->
    <div class="drawer-mask" @onclick="Close"></div>

    <!-- drawer -->
    <div class="drawer" role="dialog" aria-hidden="@(!_isOpen)">
        <div class="drawer-content">
            <div class="drawer-header d-flex justify-content-between align-items-center p-3">
                <h5 class="m-0">Password expiry</h5>

                <!-- close button INSIDE drawer so it's always on top -->
                <button class="btn btn-close" @onclick="Close" aria-label="Close"></button>
            </div>

            <div class="trail-details p-3">
                <p class="text-wrap fs-5 fw-light">
                    Your password is due to expire in @DaysToExpire. Kindly change password before then.
                </p>
            </div>

            <div class="drawer-controls p-3">
                <button class="btn btn-secondary" @onclick="Close">Close</button>
            </div>
        </div>
    </div>
</div>


@code {
    private bool _isOpen = false;

    [Parameter, EditorRequired]
    public int DaysToExpire { get; set; }

    protected override void OnParametersSet()
    {
        Console.WriteLine($"Days to expire: {DaysToExpire}");
        if(this.DaysToExpire <= 10)
        {
            Console.WriteLine($"Expiry Time: {DaysToExpire}");
            _isOpen = true;

        }
    }

    private void Close()
    {
        Console.WriteLine($"Set drawer to close.....");
        _isOpen = false;
        Console.WriteLine($"Is Open: {_isOpen}");
    }
}
